###> SYMFONY BACKEND TEMPLATE - ENVIRONMENT VARIABLES ###
# Copiez ce fichier vers .env et configurez les valeurs selon votre environnement

###> symfony/framework-bundle ###
APP_ENV=dev
APP_NAME="Symfony Backend Template"
APP_SECRET=change_me_to_random_40_chars_string_here
APP_SHARE_DIR=var/share
###< symfony/framework-bundle ###

###> symfony/routing ###
# URL de base pour génération d'URLs en CLI (emails, notifications)
DEFAULT_URI=http://localhost:8000
###< symfony/routing ###

###> doctrine/doctrine-bundle ###
# MySQL 8.0 Configuration
# Format: mysql://user:password@host:port/dbname?serverVersion=8.0&charset=utf8mb4
DATABASE_URL="mysql://root:root@127.0.0.1:3306/symfony_app?serverVersion=8.0&charset=utf8mb4"

# Alternatives (commentées)
# PostgreSQL: "postgresql://user:password@127.0.0.1:5432/dbname?serverVersion=16&charset=utf8"
# MariaDB: "mysql://user:password@127.0.0.1:3306/dbname?serverVersion=10.11.2-MariaDB&charset=utf8mb4"
###< doctrine/doctrine-bundle ###

###> symfony/messenger ###
# Message queue transport (async jobs)
# Options: doctrine://default, redis://localhost:6379/messages, amqp://guest:guest@localhost:5672/%2f/messages
MESSENGER_TRANSPORT_DSN=doctrine://default?auto_setup=0
###< symfony/messenger ###

###> symfony/mailer ###
# Configuration SMTP pour emails transactionnels
# Format: smtp://user:password@host:port
# Exemples:
#   - Gmail: smtp://username:password@smtp.gmail.com:587
#   - Mailgun: smtp://username:password@smtp.mailgun.org:587
#   - Local (dev): smtp://localhost:1025
MAILER_DSN=smtp://localhost:1025

# Configuration séparée pour les alertes d'erreurs (monitoring)
MAILER_DSN_ERRORS=smtp://localhost:1025
###< symfony/mailer ###

###> lexik/jwt-authentication-bundle ###
# Chemins des clés JWT (générées automatiquement avec make jwt-setup)
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem
# Passphrase pour les clés JWT (générez une avec: openssl rand -hex 32)
JWT_PASSPHRASE=change_me_to_random_passphrase
# Durée de validité des tokens JWT en secondes (défaut: 30 jours)
JWT_TTL=2592000
###< lexik/jwt-authentication-bundle ###

###> NOTIFICATIONS CONFIGURATION ###
# Email expéditeur par défaut pour les notifications
NOTIFICATIONS_MAILER_SENDER_EMAIL=noreply@example.com
NOTIFICATIONS_MAILER_SENDER_NAME="${APP_NAME}"
NOTIFICATIONS_MAILER_DSN=${MAILER_DSN}
###< NOTIFICATIONS CONFIGURATION ###

###> MONITORING & ALERTS ###
# Emails pour les alertes système selon les rôles
# CRITICAL: erreurs critiques système (DB down, exceptions fatales)
SUPER_ADMIN_ALERT_EMAIL=tech@example.com
# ERROR: erreurs métier importantes
ADMIN_ALERT_EMAIL=admin@example.com

# Active/désactive les alertes email (true/false)
ENABLE_ERROR_EMAIL_ALERTS=true

# Niveau minimum pour les alertes email (critical, error, warning)
ERROR_EMAIL_ALERT_LEVEL=error
###< MONITORING & ALERTS ###

###> FILE STORAGE CONFIGURATION ###
# Dossier de stockage local des uploads
UPLOAD_DIRECTORY=%kernel.project_dir%/public/uploads

# URL publique pour accéder aux fichiers uploadés
UPLOAD_PUBLIC_URL=/uploads

# Taille maximale des fichiers (en bytes, défaut: 10MB)
UPLOAD_MAX_FILE_SIZE=10485760
###< FILE STORAGE CONFIGURATION ###

###> SECURITY CONFIGURATION ###
# Active/désactive la vérification email obligatoire après inscription
REQUIRE_EMAIL_VERIFICATION=false

# Durée de validité des tokens de réinitialisation de mot de passe (en secondes)
PASSWORD_RESET_TOKEN_TTL=3600

# Nombre maximum de tentatives de connexion avant blocage temporaire
MAX_LOGIN_ATTEMPTS=5

# Durée du blocage après dépassement des tentatives (en secondes)
LOGIN_THROTTLE_DURATION=900
###< SECURITY CONFIGURATION ###

###> RATE LIMITING ###
# Configuration des limites de taux API
# Format: "X per Y" où X = nombre, Y = période (second, minute, hour, day)
API_RATE_LIMIT="100 per hour"
REGISTRATION_RATE_LIMIT="5 per hour"
###< RATE LIMITING ###

###> CORS CONFIGURATION (si nécessaire pour API) ###
# Domaines autorisés pour CORS (séparés par des virgules)
# CORS_ALLOW_ORIGIN=http://localhost:3000,https://app.example.com
###< CORS CONFIGURATION ###

