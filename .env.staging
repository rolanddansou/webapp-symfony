###> STAGING ENVIRONMENT ###
APP_ENV=staging
APP_NAME="Symfony Backend Template - STAGING"
# Générez un secret unique avec: php bin/console secrets:generate-keys
APP_SECRET=
APP_SHARE_DIR=var/share
DEBUG=0

###> symfony/routing ###
DEFAULT_URI=https://staging.example.com
###< symfony/routing ###

###> doctrine/doctrine-bundle ###
# Utilisez Symfony Secrets Vault pour les credentials en staging/prod
# php bin/console secrets:set DATABASE_URL
DATABASE_URL="mysql://user:password@127.0.0.1:3306/symfony_app_staging?serverVersion=8.0&charset=utf8mb4"
###< doctrine/doctrine-bundle ###

###> symfony/messenger ###
# Utilisez Redis en staging/production pour de meilleures performances
MESSENGER_TRANSPORT_DSN=redis://localhost:6379/messages
###< symfony/messenger ###

###> symfony/mailer ###
# Configuration SMTP réelle en staging
MAILER_DSN=smtp://username:password@smtp.example.com:587
MAILER_DSN_ERRORS=smtp://username:password@smtp.example.com:587
###< symfony/mailer ###

###> lexik/jwt-authentication-bundle ###
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem
# Stockez la passphrase dans Symfony Secrets
# php bin/console secrets:set JWT_PASSPHRASE
JWT_PASSPHRASE=
JWT_TTL=2592000
###< lexik/jwt-authentication-bundle ###

###> NOTIFICATIONS ###
NOTIFICATIONS_MAILER_SENDER_EMAIL=noreply@example.com
NOTIFICATIONS_MAILER_SENDER_NAME="Symfony Backend - Staging"
NOTIFICATIONS_MAILER_DSN=${MAILER_DSN}
###< NOTIFICATIONS ###

###> MONITORING & ALERTS ###
SUPER_ADMIN_ALERT_EMAIL=tech@example.com
ADMIN_ALERT_EMAIL=admin@example.com
ENABLE_ERROR_EMAIL_ALERTS=true
ERROR_EMAIL_ALERT_LEVEL=error
###< MONITORING & ALERTS ###

###> FILE STORAGE ###
UPLOAD_DIRECTORY=%kernel.project_dir%/public/uploads
UPLOAD_PUBLIC_URL=/uploads
UPLOAD_MAX_FILE_SIZE=10485760
###< FILE STORAGE ###

###> SECURITY ###
REQUIRE_EMAIL_VERIFICATION=true
PASSWORD_RESET_TOKEN_TTL=3600
MAX_LOGIN_ATTEMPTS=5
LOGIN_THROTTLE_DURATION=900
###< SECURITY ###

###> RATE LIMITING ###
API_RATE_LIMIT="200 per hour"
REGISTRATION_RATE_LIMIT="10 per hour"
###< RATE LIMITING ###

