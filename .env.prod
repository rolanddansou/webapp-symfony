###> PRODUCTION ENVIRONMENT ###
APP_ENV=prod
APP_NAME="Symfony Backend Template"
# IMPORTANT: Utilisez Symfony Secrets Vault pour toutes les données sensibles
# Générez les clés: php bin/console secrets:generate-keys --env=prod
# Définissez les secrets: php bin/console secrets:set SECRET_NAME --env=prod
APP_SECRET=
APP_SHARE_DIR=var/share
DEBUG=0

###> symfony/routing ###
DEFAULT_URI=https://api.example.com
###< symfony/routing ###

###> doctrine/doctrine-bundle ###
# CRITIQUE: Stockez DATABASE_URL dans Symfony Secrets Vault
# php bin/console secrets:set DATABASE_URL --env=prod
# Format: mysql://user:password@host:port/dbname?serverVersion=8.0&charset=utf8mb4
DATABASE_URL=
###< doctrine/doctrine-bundle ###

###> symfony/messenger ###
# Utilisez Redis ou RabbitMQ en production
# Redis: redis://password@localhost:6379/messages
# RabbitMQ: amqp://user:password@localhost:5672/%2f/messages
MESSENGER_TRANSPORT_DSN=
###< symfony/messenger ###

###> symfony/mailer ###
# CRITIQUE: Stockez les DSN dans Symfony Secrets Vault
# php bin/console secrets:set MAILER_DSN --env=prod
# php bin/console secrets:set MAILER_DSN_ERRORS --env=prod
MAILER_DSN=
MAILER_FROM=
MAILER_DSN_ERRORS=
SUPPORT_EMAIL=
###< symfony/mailer ###

###> lexik/jwt-authentication-bundle ###
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem
# CRITIQUE: Stockez JWT_PASSPHRASE dans Symfony Secrets Vault
# Générez avec: openssl rand -hex 32
# php bin/console secrets:set JWT_PASSPHRASE --env=prod
JWT_PASSPHRASE=
JWT_TTL=2592000
###< lexik/jwt-authentication-bundle ###

###> NOTIFICATIONS ###
NOTIFICATIONS_MAILER_SENDER_EMAIL=noreply@example.com
NOTIFICATIONS_MAILER_SENDER_NAME="Symfony Backend"
NOTIFICATIONS_MAILER_DSN=${MAILER_DSN}
###< NOTIFICATIONS ###

###> MONITORING & ALERTS ###
# Emails de l'équipe technique pour alertes critiques
SUPER_ADMIN_ALERT_EMAIL=tech-team@example.com
ADMIN_ALERT_EMAIL=admin@example.com
ENABLE_ERROR_EMAIL_ALERTS=true
ERROR_EMAIL_ALERT_LEVEL=error
###< MONITORING & ALERTS ###

###> FILE STORAGE ###
# En production, considérez un stockage externe (S3, CDN)
UPLOAD_DIRECTORY=%kernel.project_dir%/public/uploads
UPLOAD_PUBLIC_URL=/uploads
UPLOAD_MAX_FILE_SIZE=10485760
###< FILE STORAGE ###

###> SECURITY ###
REQUIRE_EMAIL_VERIFICATION=true
PASSWORD_RESET_TOKEN_TTL=3600
MAX_LOGIN_ATTEMPTS=5
LOGIN_THROTTLE_DURATION=900
###< SECURITY ###

###> RATE LIMITING ###
API_RATE_LIMIT="100 per hour"
REGISTRATION_RATE_LIMIT="5 per hour"
###< RATE LIMITING ###

###> OPCACHE (recommandé en production) ###
# Configurez dans php.ini:
# opcache.enable=1
# opcache.memory_consumption=256
# opcache.max_accelerated_files=20000
# opcache.validate_timestamps=0 (en prod)
###< OPCACHE ###

###> NOTES DE SÉCURITÉ PRODUCTION ###
# 1. Générez des clés Symfony Secrets: php bin/console secrets:generate-keys --env=prod
# 2. Stockez TOUS les secrets sensibles: php bin/console secrets:set SECRET_NAME --env=prod
# 3. Ne commitez JAMAIS ce fichier avec des vraies valeurs
# 4. Utilisez des mots de passe forts (min 32 caractères aléatoires)
# 5. Activez HTTPS obligatoire dans config/packages/framework.yaml
# 6. Configurez le firewall et les règles IP sur votre serveur
# 7. Activez OPcache et désactivez validate_timestamps
# 8. Configurez log rotation (voir docs/MONITORING.md)
###< NOTES DE SÉCURITÉ PRODUCTION ###

